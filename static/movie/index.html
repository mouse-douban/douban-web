<!DOCTYPE html>
<html lang="en">

<head>
    <!--ç ´è§£é˜²ç›—é“¾-->
    <meta name="referrer" content="never">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://img3.doubanio.com/favicon.ico">
    <link rel="stylesheet" href="../css/top-bar-status.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/movie.css">
    <script src="../js/components.js"></script>
    <script src="../js/movie.js" type="module"></script>
    <title>ç”µå½±æ ‡é¢˜ (è±†ç“£)</title>
</head>
    <div id="top-nav-items">
        <ul id="top-nav-ul" style="display:inline-block;">
            <li>
                <span class="top-nav-item" onclick="alert('æ²¡æœ‰ä¸»é¡µï¼å“¼ğŸ˜•')">è±†ç“£</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('å°±çŸ¥é“è¯»ä¹¦ï¼')">è¯»ä¹¦</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="window.location.href = './index.html'">ç”µå½±</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('å°±çŸ¥é“å¬éŸ³ä¹ï¼')">éŸ³ä¹</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('å•Šè¿™...æˆ‘ä¸å¥½è¯´äº†')">åŒåŸ</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('å°±çŸ¥é“å°ç»„ï¼')">å°ç»„</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('è·Ÿè¯»ä¹¦æœ‰åŒºåˆ«å—ï¼Ÿå“¼ğŸ˜•')">é˜…è¯»</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('ä»€ä¹ˆå¹´ä»£äº†è¿˜å¬å¹¿æ’­ åŸæ¥æˆ‘ä¹Ÿå¬é‚£æ²¡äº‹äº†')">FM</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('æ²¡æ—¶é—´å•¦ ä¸‡ç­–å°½å•¦ï¼ï¼ï¼ğŸ˜±')">æ—¶é—´</span>
            </li>
            <li>
                <span class="top-nav-item" onclick="alert('æ‹’ç»è¶…å‰æ¶ˆè´¹!')">è±†å“</span>
            </li>
        </ul>
        <div id="top-nav-right-items">
            <ul id="top-nav-right-ul">
                <li>
                    <span class="top-nav-item" onclick="alert('flutteråœ¨å­¦äº†ğŸ˜­')">ä¸‹è½½è±†ç“£å®¢æˆ·ç«¯</span>
                </li>
                <li>
                    <span class="top-nav-item" id="login-nav-item">ç™»å½•/æ³¨å†Œ</span>
                </li>
            </ul>
        </div>
    </div>
    <div id="search-area">
        <div id="search-content">
            <div id="nav-logo" onclick="window.location.href = './index.html'"></div>
            <div id="nav-search">
                <fieldset style="display: inline-flex;border: 0px;">
                    <label for="inp-query"></label>
                    <div class="inp">
                        <input id="inp-query" class="card" name="search_text" size="22" maxlength="60"
                                placeholder="æœç´¢ç”µå½±ã€ç”µè§†å‰§ã€ç»¼è‰ºã€å½±äºº" autocompelete="off">
                    </div>
                    <div class="inp-btn">
                        <input type="submit" value="æœç´¢">
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <script>
        const types = [
            "æˆ‘çœ‹",
            "å½±è®¯&è´­ç¥¨",
            "é€‰ç”µå½±",
            "ç”µè§†å‰§",
            "æ’è¡Œæ¦œ",
            "åˆ†ç±»",
            "å½±è¯„",
            "2021å¹´åº¦æ¦œå•",
            "2021ä¹¦å½±éŸ³æŠ¥å‘Š",
        ]
        const tl = new TabLayout(types, tab => {
            switch (tab) {
                case "æˆ‘çœ‹": {
                    window.location.href = "../index.html"
                    break
                }
                default: {
                    alert("æœªå®ç°")
                }
            }
            return false
        })
        tl.style = "position: relative;left: 225px;width: fit-content;"
        document.querySelector("body").appendChild(tl)
    </script>
    <div class="content-box">
        <h1 class="movie-title">ç”µå½±æ ‡é¢˜ <span style="color: #888888;font-size: 25px;">(2022)</span></h1>
        <div class="flex-box">
            <img id="mainpic" src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png"
                title="ç‚¹å‡»çœ‹æ›´å¤šæµ·æŠ¥" alt="" rel="v:image">
            <div id="movie-info">
                <div>å¯¼æ¼”: <span id="director">xxx</span></div>
                <div>ç¼–å‰§: <span id="writers">xxx</span></div>
                <div>ä¸»æ¼”: <span id="characters">xxx</span></div>
                <div>ç±»å‹: <span id="type">xxx</span></div>
                <div>åˆ¶ç‰‡å›½å®¶/åœ°åŒº: <span id="region">xxx</span></div>
                <div>è¯­è¨€: <span id="language">xxx</span></div>
                <div>ä¸Šæ˜ æ—¥æœŸ: <span id="release">xxx</span></div>
                <div>ç‰‡é•¿: <span id="period">xxx</span>åˆ†é’Ÿ</div>
                <div>åˆå: <span id="nicknames">xxx</span></div>
                <div>IMDb: <span id="IMDb">xxx</span></div>
            </div>
            <div id="evaluate-box">
                <div id="evaluate-box-top">
                    <p style="font-size:small;">è±†ç“£è¯„åˆ†</p>
                    <h2 style="color: #494949;font-weight: 500;font-size: 30px;margin-top: 5px;">
                        <span id="score">9.9</span> <span style="font-size: 10px;position: relative;bottom: 6px;">â­â­â­â­â­</span>
                    </h2>
                    <p>5æ˜Ÿ: <span class="bar"></span> <span class="bar-value">80%</span></p>
                    <p>4æ˜Ÿ: <span class="bar"></span> <span class="bar-value">10%</span></p>
                    <p>3æ˜Ÿ: <span class="bar"></span> <span class="bar-value">5%</span></p>
                    <p>2æ˜Ÿ: <span class="bar"></span> <span class="bar-value">2%</span></p>
                    <p>1æ˜Ÿ: <span class="bar"></span> <span class="bar-value">3%</span></p>
                </div>
                <div id="evaluate-box-bottom">
                    <p style="color: #888888;font-size: xx-small;">ä½ æ‰€çƒ­çˆ±çš„ï¼Œå°±æ˜¯ä½ çš„ç”Ÿæ´» :)</p>
                </div>
            </div>
        </div>
        <button>æƒ³çœ‹</button>
        <button>çœ‹è¿‡</button>
        <span style="font-size: medium;color: #494949;">   è¯„åˆ†: </span>
        <ranking-stars></ranking-stars>
        <div class="action-line">
            <img
                src="https://img3.doubanio.com/f/shire/cc03d0fcf32b7ce3af7b160a0b85e5e66b47cc42/pics/short-comment.gif">
            <span id="short-comment-btn">å†™çŸ­è¯„</span>
            <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif">
            <span id="movie-comment-btn">å†™å½±è¯„</span>
            <span id="add-to-list-btn">æ·»åŠ åˆ°ç‰‡å•</span>
        </div>
        <h2 class="sub-title">ç”µå½±åç§°çš„å‰§æƒ…ç®€ä»‹ Â· Â· Â· Â· Â· Â·</h2>
        <p id="introduce">æ¯•ç”Ÿè¿½æ±‚ç”·ä¸»æ¢¦çš„é­æˆåŠŸï¼ˆé­ç¿” é¥°ï¼‰ç»ˆäºå¾—åˆ°äº†å¥³æ˜æ˜Ÿç±³å…°ï¼ˆé©¬ä¸½ é¥°ï¼‰çš„â€œèµè¯†â€ï¼Œè¢«é‚€è¯·å‡ºæ¼”å¥¹çš„ç”·ä¸€å·â€œæ€æ‰‹å¡å°”â€ï¼Œä»–å…´è‡´å‹ƒå‹ƒè¯ é‡Šè§’è‰²çš„åŒæ—¶ï¼Œå´æ²¡æƒ³åˆ°å·²ç»è½å…¥äº†ä¸€åœºå±æœºå››ä¼çš„é˜´è°‹ï¼Œä½†ä»–ä¾ç„¶å€Ÿè‡ªå·±
            â€œç²¾æ¹›â€çš„æ¼”æŠ€å’Œç»ä½³çš„è¿æ°”åŒ–é™©ä¸ºå¤·ï¼Œè€Œæ®‹é…·çš„çœŸç›¸ä¹Ÿç¦»ä»–è¶Šæ¥è¶Šè¿‘â€¦â€¦</p>
        <h2 class="sub-title">ç”µå½±åç§°çš„æ¼”èŒå‘˜ Â· Â· Â· Â· Â· Â· <span>( å…¨éƒ¨ ? )</span></h2>
        <div id="actor-container" style="display: flex;margin-bottom: 20px; flex-wrap: wrap;">
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
            <actor-card src="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" actor="è•¾ç±³"
                job="å¯¼æ¼”"></actor-card>
        </div>
        <h2 class="sub-title">ç”µå½±åç§°çš„çŸ­è¯„ Â· Â· Â· Â· Â· Â· <span>( å…¨éƒ¨ ? æ¡ )</span></h2>
        <div id="short-comment-container">
            <short-comment user="å¯’é›¨" score="5" time="2022-02-01 10:46:17" content="è¿™æ˜¯ä¸€éƒ¨å¥½ç”µå½±ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚" stars="233"
                type="after"></short-comment>
            <short-comment user="å¯’é›¨" score="5" time="2022-02-01 10:46:17" content="è¿™æ˜¯ä¸€éƒ¨å¥½ç”µå½±ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚" stars="233"
                type="after"></short-comment>
            <short-comment user="å¯’é›¨" score="5" time="2022-02-01 10:46:17" content="è¿™æ˜¯ä¸€éƒ¨å¥½ç”µå½±ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚" stars="233"
                type="after"></short-comment>
            <short-comment user="å¯’é›¨" score="5" time="2022-02-01 10:46:17" content="è¿™æ˜¯ä¸€éƒ¨å¥½ç”µå½±ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚" stars="233"
                type="after"></short-comment>
        </div>
        <script>
            async function onloadMoreShortComment() {
                const container = document.getElementById("short-comment-container");
                const movieId = localStorage.getItem("movieId");
                const page = this.shortCommentPage || 0;
                const afterData = await fetch(`https://api.douban.skygard.cn:8080/subjects/${movieId}/comments?start=${page * 10}&type=after`).then(res => res.json().data);
                const beforeData = await fetch(`https://api.douban.skygard.cn:8080/subjects/${movieId}/comments?start=${page * 10}&type=before`).then(res => res.json().data);
                const data = [...afterData, ...beforeData];
                data.forEach(async item => {
                    const shortComment = document.createElement("short-comment");
                    const user = await fetch(`https://api.douban.skygard.cn:8080/users/${item.uid}`).then(res => res.json());
                    shortComment.setAttribute("user", user.data.username);
                    shortComment.setAttribute("score", item.score);
                    shortComment.setAttribute("time", item.date.replace("T", " ").replace("Z", ""));
                    shortComment.setAttribute("content", item.content);
                    shortComment.setAttribute("stars", item.stars);
                    shortComment.setAttribute("type", item.type);
                    container.appendChild(shortComment);
                });
                this.shortCommentPage = ++page;
                return data.length != 0;
            }
        </script>
        <recycler-tail onloadmore="onloadMoreShortComment()"></recycler-tail>
        <h2 class="sub-title">ç”µå½±åç§°çš„å½±è¯„ Â· Â· Â· Â· Â· Â· <span>( å…¨éƒ¨ ? æ¡ )</span></h2>
        <movie-comment user="å¯’é›¨" time="2022-02-01 10:46:17" content="è¿™æ˜¯ä¸€éƒ¨å¥½ç”µå½±ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚" stars="233"
            user-icon="https://gitee.com/coldrain-moro/images_bed/raw/master/images/remilia.png" title="å¾ˆå¥½çš„ä¸€éƒ¨ç”µå½±"
            score="5"></movie-comment>
    </div>
    <!--å†™çŸ­è¯„çš„dialog-->
    <div class="dialog-box">
        <div class="dialog">
            <div class="dialog-topbar">
                <span style="color: #007722;">æ·»åŠ æ”¶è—: å†™çŸ­è¯„</span>
                <span class="dialog-closer">x</span>
            </div>
            <div class="dialog-content">
                <div>
                    <label class="checkbox-label" for="wish-to-watch" style="margin-right: 20px;"><input type="radio" id="wish-to-watch" name="type" checked> æƒ³çœ‹  </label>
                    <label class="checkbox-label" for="watched" style="margin-right: 20px;"><input type="radio" id="watched" name="type"> çœ‹è¿‡  </label>
                    <ranking-stars></ranking-stars>
                </div>
                <p class="dialog-title">æ ‡ç­¾(å¤šä¸ªæ ‡ç­¾ç”¨,åˆ†éš”):</p>
                <input type="text" class="dialog-input" placeholder="æ ‡ç­¾(å¤šä¸ªæ ‡ç­¾ç”¨,åˆ†éš”)">
                <p class="dialog-title">ç®€çŸ­è¯„è®º:</p>
                <textarea class="dialog-input" placeholder="ç®€çŸ­è¯„è®º" style="width: 80%;"></textarea>
            </div>
            <div class="dialog-tail">
                <button class="dialog-button">ä¿å­˜</button>
            </div>
        </div>
    </div>
    <!--å†™å½±è¯„çš„dialog-->
    <div class="dialog-box">
        <div class="dialog">
            <div class="dialog-topbar">
                <span style="color: #007722;">æ·»åŠ æ”¶è—: å†™å½±è¯„</span>
                <span class="dialog-closer">x</span>
            </div>
            <div class="dialog-content">
                <div>
                    <span>è¯„åˆ†:</span>
                    <ranking-stars></ranking-stars>
                </div>
                <p class="dialog-title">æ ‡é¢˜:</p>
                <input type="text" class="dialog-input" placeholder="å½±è¯„æ ‡é¢˜">
                <p class="dialog-title">å½±è¯„:</p>
                <textarea class="dialog-input" placeholder="ç®€çŸ­è¯„è®º" style="width: 80%;"></textarea>
            </div>
            <div class="dialog-tail">
                <button class="dialog-button">ä¿å­˜</button>
            </div>
        </div>
    </div>
    <!--æ·»åŠ åˆ°ç‰‡å•çš„dialog-->
    <div class="dialog-box">
        <div class="dialog">
            <div class="dialog-topbar">
                <span style="color: #007722;">æ·»åŠ åˆ°ç‰‡å•</span>
                <span class="dialog-closer">x</span>
            </div>
            <div class="dialog-content add-to-list-content" style="padding-left: 0px;">
                <div class="left">
                    <img src="https://img1.doubanio.com/view/photo/s_ratio_poster/public/p2724443759.webp" alt="" srcset="">
                    <p style="font-size: 16px; margin-top: 10px;color: #888888;">æ‰¬åç«‹ä¸‡</p>
                </div>
                <div class="right-top">
                    <span style="font-size: 18px;color: #888888;">é€‰æ‹©ç‰‡å•</span>
                    <button style="color: #888888;">åˆ›å»ºç‰‡å•</button>
                </div>
                <div class="right-bottom">
                    <div style="color: #888888;font-size: 16px;margin-bottom: 10px;">æ¨èè¯­ (é€‰å¡«)</div>
                    <textarea class="dialog-input" placeholder="å‘Šè¯‰å¤§å®¶ä½ æ·»åŠ å®ƒçš„ç†ç”±å§" style="width: 80%;height: 30px;border-radius: 5px;"></textarea>
                </div>
            </div>
            <div class="dialog-tail">
                <button class="dialog-button">ä¿å­˜</button>
            </div>
        </div>
    </div>
</body>
</html>